{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_bibxAUJAz8ZnVN7nBo99DahMQ8LIldB1UtE4SMgluyM8fcqQ7jRbU71bWwMiMMPO';\n\nexport { fetchBreeds, fetchCatByBreed };\n\nfunction fetchBreeds() {\n  return axios.get(`${BASE_URL}/breeds`).then(response => {\n    return response.data;\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  const params = new URLSearchParams({ breed_ids: breedId });\n  return axios.get(`${BASE_URL}/images/search?${params}`).then(response => {\n    return response.data;\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nimport iziToast from 'izitoast';\nimport SlimSelect from 'slim-select';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'slim-select/styles';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n\nfetchBreeds()\n  .then(data => {\n    createOptions(data);\n    new SlimSelect({\n      select: '.breed-select',\n    });\n  })\n  .catch(error => {\n    setLoader('none');\n    getError();\n  });\n\nfunction createOptions(breeds) {\n  try {\n    breeds.forEach(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      breedSelect.appendChild(option);\n    });\n\n    setCatInfo('flex');\n    setLoader('none');\n  } catch (error) {\n    setLoader('none');\n    getError();\n  }\n}\n\nbreedSelect.addEventListener('change', addInfo);\n\nfunction addInfo(event) {\n  setCatInfo('none');\n  setLoader('block');\n  const selectedBreedId = event.target.value;\n  fetchCatByBreed(selectedBreedId)\n    .then(data => {\n      if (data == undefined) {\n        throw new Error();\n      }\n      const arr = data[0].breeds[0];\n\n      catInfo.innerHTML = `\n      <img class=\"cat-image\" src=\"${data[0].url}\" alt=\"Cat Image\">\n      <div class=\"cat-content\">\n      <h1><strong> ${arr.alt_names}</strong> </h1>\n      <p>  ${arr.description} </p>\n      <p><strong>Temperament:</strong> ${arr.temperament}</p></div>\n    `;\n\n      setLoader('none');\n      setCatInfo('flex');\n    })\n    .catch(error => {\n      setLoader('none');\n      getError();\n    });\n}\n\nfunction getError() {\n  iziToast.error({\n    title: 'Error',\n    message: 'Oops! Something went wrong! Try reloading the page!',\n  });\n}\n\nfunction setLoader(atr) {\n  loader.style.display = atr;\n}\n\nfunction setCatInfo(atr) {\n  catInfo.style.display = atr;\n}\n"],"names":["BASE_URL","axios","fetchBreeds","response","fetchCatByBreed","breedId","params","breedSelect","loader","catInfo","data","createOptions","SlimSelect","error","setLoader","getError","breeds","breed","option","setCatInfo","addInfo","event","selectedBreedId","arr","iziToast","atr"],"mappings":"owBACA,MAAMA,EAAW,+BACjBC,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAIF,SAASC,GAAc,CACrB,OAAOD,EAAM,IAAI,GAAGD,CAAQ,SAAS,EAAE,KAAKG,GACnCA,EAAS,IACjB,CACH,CAEA,SAASC,EAAgBC,EAAS,CAChC,MAAMC,EAAS,IAAI,gBAAgB,CAAE,UAAWD,CAAS,CAAA,EACzD,OAAOJ,EAAM,IAAI,GAAGD,CAAQ,kBAAkBM,CAAM,EAAE,EAAE,KAAKH,GACpDA,EAAS,IACjB,CACH,CCXA,MAAMI,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElDP,EAAa,EACV,KAAKQ,GAAQ,CACZC,EAAcD,CAAI,EAClB,IAAIE,EAAW,CACb,OAAQ,eACd,CAAK,CACL,CAAG,EACA,MAAMC,GAAS,CACdC,EAAU,MAAM,EAChBC,GACJ,CAAG,EAEH,SAASJ,EAAcK,EAAQ,CAC7B,GAAI,CACFA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BV,EAAY,YAAYW,CAAM,CACpC,CAAK,EAEDC,EAAW,MAAM,EACjBL,EAAU,MAAM,CACjB,MAAe,CACdA,EAAU,MAAM,EAChBC,GACD,CACH,CAEAR,EAAY,iBAAiB,SAAUa,CAAO,EAE9C,SAASA,EAAQC,EAAO,CACtBF,EAAW,MAAM,EACjBL,EAAU,OAAO,EACjB,MAAMQ,EAAkBD,EAAM,OAAO,MACrCjB,EAAgBkB,CAAe,EAC5B,KAAKZ,GAAQ,CACZ,GAAIA,GAAQ,KACV,MAAM,IAAI,MAEZ,MAAMa,EAAMb,EAAK,CAAC,EAAE,OAAO,CAAC,EAE5BD,EAAQ,UAAY;AAAA,oCACUC,EAAK,CAAC,EAAE,GAAG;AAAA;AAAA,qBAE1Ba,EAAI,SAAS;AAAA,aACrBA,EAAI,WAAW;AAAA,yCACaA,EAAI,WAAW;AAAA,MAGlDT,EAAU,MAAM,EAChBK,EAAW,MAAM,CACvB,CAAK,EACA,MAAMN,GAAS,CACdC,EAAU,MAAM,EAChBC,GACN,CAAK,CACL,CAEA,SAASA,GAAW,CAClBS,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qDACb,CAAG,CACH,CAEA,SAASV,EAAUW,EAAK,CACtBjB,EAAO,MAAM,QAAUiB,CACzB,CAEA,SAASN,EAAWM,EAAK,CACvBhB,EAAQ,MAAM,QAAUgB,CAC1B"}